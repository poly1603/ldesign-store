# 更新日志

所有重要的项目变更都会记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
并且本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [未发布]

### 新增
- 新的性能优化装饰器 `@Optimize`
- 支持 WebWorker 中的状态管理
- 新增批量操作 API

### 变更
- 改进了 TypeScript 类型推导
- 优化了内存使用

### 修复
- 修复了在 SSR 环境下的兼容性问题

## [2.1.0] - 2024-08-15

### 新增
- 🎉 **实时同步功能**: 支持多实例状态同步
- 🔧 **中间件系统**: 完整的中间件架构
- 📊 **性能监控**: 内置性能分析工具
- 🎯 **权限管理**: 基于装饰器的权限控制
- 🔄 **错误处理**: 统一的错误处理机制
- 📱 **移动端优化**: 改进了移动设备上的性能

### 变更
- 📈 **性能提升**: 状态更新性能提升 40%
- 🎨 **API 改进**: 简化了 Store 创建流程
- 📚 **文档更新**: 完善了 API 文档和示例

### 修复
- 🐛 修复了缓存装饰器在某些情况下的内存泄漏
- 🔧 修复了持久化插件的序列化问题
- 🎯 修复了在 Vite 环境下的热重载问题

### 弃用
- ⚠️ `createLegacyStore` 将在 v3.0 中移除
- ⚠️ 旧版本的持久化 API 已弃用

## [2.0.0] - 2024-06-20

### 新增
- 🚀 **全新架构**: 基于装饰器的现代化设计
- 🎯 **多种使用方式**: 支持类式、函数式、组合式 Store
- 💾 **状态持久化**: 内置持久化支持
- ⚡ **缓存机制**: 智能缓存系统
- 🔄 **防抖节流**: 内置防抖和节流装饰器
- 🧪 **测试工具**: 完整的测试工具集
- 📖 **TypeScript**: 完整的类型支持

### 变更
- 💥 **破坏性变更**: 重写了核心 API
- 📦 **包结构**: 重新组织了包结构
- 🎨 **开发体验**: 大幅改善了开发体验

### 移除
- ❌ 移除了对 Vue 2 的支持
- ❌ 移除了旧版本的 API

## [1.5.2] - 2024-05-10

### 修复
- 🐛 修复了在生产环境下的构建问题
- 🔧 修复了 devtools 集成的兼容性问题

## [1.5.1] - 2024-04-25

### 修复
- 🐛 修复了状态订阅的内存泄漏问题
- 🔧 改进了错误消息的可读性

## [1.5.0] - 2024-04-01

### 新增
- ✨ 新增了状态快照功能
- 🔧 支持自定义序列化器
- 📊 新增了状态变更统计

### 变更
- 🎨 改进了 devtools 界面
- 📈 优化了大型状态对象的性能

### 修复
- 🐛 修复了嵌套状态更新的问题
- 🔧 修复了在某些边缘情况下的响应式问题

## [1.4.0] - 2024-03-15

### 新增
- 🎯 新增了状态验证功能
- 🔄 支持状态回滚
- 📱 改进了移动端支持

### 变更
- 📚 更新了文档和示例
- 🎨 改进了 API 设计

### 修复
- 🐛 修复了并发状态更新的竞态条件
- 🔧 修复了 SSR 环境下的问题

## [1.3.0] - 2024-02-20

### 新增
- ⚡ 新增了懒加载 Store 功能
- 🔧 支持 Store 模块化
- 📊 新增了性能分析工具

### 变更
- 🎨 改进了错误处理机制
- 📈 优化了内存使用

### 修复
- 🐛 修复了状态持久化的时序问题
- 🔧 修复了在某些浏览器中的兼容性问题

## [1.2.0] - 2024-01-30

### 新增
- 🎉 新增了插件系统
- 🔄 支持状态时间旅行
- 📱 新增了 React Native 支持

### 变更
- 📚 完善了文档
- 🎨 改进了开发者工具

### 修复
- 🐛 修复了状态订阅的性能问题
- 🔧 修复了类型定义的错误

## [1.1.0] - 2024-01-10

### 新增
- ✨ 新增了状态计算缓存
- 🔧 支持异步状态初始化
- 📊 新增了状态变更日志

### 变更
- 🎨 改进了 API 易用性
- 📈 优化了响应式性能

### 修复
- 🐛 修复了状态重置的问题
- 🔧 修复了在开发环境下的警告

## [1.0.0] - 2023-12-20

### 新增
- 🎉 **首次发布**: @ldesign/store 正式发布
- 🏪 **基础 Store**: 核心状态管理功能
- 📊 **响应式系统**: 基于 Vue 3 的响应式
- 💾 **持久化**: 基础的状态持久化
- 🧪 **测试支持**: 基本的测试工具
- 📖 **文档**: 完整的使用文档

### 特性
- ✅ Vue 3 兼容
- ✅ TypeScript 支持
- ✅ 开发者工具集成
- ✅ SSR 支持
- ✅ 轻量级设计

## [0.9.0] - 2023-11-30

### 新增
- 🧪 Beta 版本发布
- 🔧 核心功能实现
- 📚 初始文档

### 变更
- 🎨 API 设计优化
- 📈 性能改进

## [0.1.0] - 2023-10-15

### 新增
- 🚀 项目启动
- 🏗️ 基础架构搭建
- 📋 需求分析和设计

---

## 版本说明

### 语义化版本

我们遵循 [语义化版本](https://semver.org/lang/zh-CN/) 规范：

- **主版本号**: 当你做了不兼容的 API 修改
- **次版本号**: 当你做了向下兼容的功能性新增
- **修订号**: 当你做了向下兼容的问题修正

### 发布周期

- **主版本**: 每年 1-2 次，包含重大功能更新
- **次版本**: 每月 1-2 次，包含新功能和改进
- **修订版本**: 根据需要发布，主要修复 bug

### 支持政策

- **当前版本**: 完整支持，包括新功能和 bug 修复
- **前一个主版本**: 仅提供 bug 修复，持续 12 个月
- **更早版本**: 不再提供官方支持

### 迁移指南

每个主版本发布时，我们都会提供详细的迁移指南：

- [从 v1.x 迁移到 v2.x](./guide/migration.md)
- [从 v0.x 迁移到 v1.x](./guide/migration.md#from-v0x)

### 实验性功能

标记为 `🧪 实验性` 的功能可能在未来版本中发生变化，请谨慎在生产环境中使用。

### 贡献

感谢所有为 @ldesign/store 做出贡献的开发者！

- 查看 [贡献指南](./guide/community.md)
- 查看 [贡献者列表](https://github.com/ldesign/store/contributors)

### 反馈

如果您发现任何问题或有改进建议，请：

- 提交 [GitHub Issue](https://github.com/ldesign/store/issues)
- 参与 [GitHub Discussions](https://github.com/ldesign/store/discussions)
- 加入我们的 [Discord 社区](https://discord.gg/ldesign-store)
